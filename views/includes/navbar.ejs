<style>
  /* Navbar / search styling */
  .navbar-brand { color: #fe424d; font-weight: 700; font-size: 1.25rem; }
  .nav-link { color: #343a40; margin-right: .25rem; }
  .nav-link:hover { color: #fe424d; }
  .nav-link.active { color: #fe424d; font-weight: 600; }

  .search-form {
    max-width: 520px;
    width: 100%;
    display:flex;
    gap: .5rem;
    align-items:center;
  }
  .search-inp {
    border-radius: 40px;
    padding: .45rem 1rem;
    font-size: .95rem;
    border: 1px solid #dee2e6;
    box-shadow: none;
  }
  .search-inp:focus { outline: none; box-shadow: 0 0 0 .15rem rgba(254,66,77,.08); border-color: #fe424d; }

  .search-btn{
    background-color: #fe424d;
    color: white;
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    padding: .45rem .9rem;
    border-radius: 40px;
    border: none;
  }
  .search-btn:hover { background-color: #e63b41; color: white; }
  .search-btn i { margin-right: .5rem; }

  /* Right-side actions */
  .nav-actions .nav-link { margin-left: .25rem; }
  .btn-add { color: #fe424d; border: 1px solid transparent; }
  .btn-add:hover { background-color: rgba(254,66,77,0.06); }

  /* Mobile adjustments */
  @media (max-width: 767.98px) {
    .search-form { max-width: 100%; margin: .5rem 0; }
    .navbar-collapse { padding-top: .5rem; padding-bottom: .5rem; }
  }
</style>

<nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand d-flex align-items-center" href="/listings">
      <i class="fa-solid fa-compass me-2"></i> Homigo
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <!-- Left links -->
      <ul class="navbar-nav me-auto mb-2 mb-md-0">
        <li class="nav-item"><a class="nav-link" href="/listings">Explore</a></li>
        <li class="nav-item"><a class="nav-link" href="/bookings">My Bookings</a></li>
        <% if (currUser) { %>
          <li class="nav-item"><a class="nav-link" href="/profile">My Profile</a></li>
        <% } %>
      </ul>

      <!-- Centered search -->
      <form class="search-form mx-auto d-none d-md-flex" role="search" action="/listings" method="GET">
        <input class="form-control search-inp" type="search" name="search" placeholder="Search by location..."
               value="<%= typeof search !== 'undefined' ? search : '' %>">
        <button class="btn search-btn" type="submit"><i class="fa-solid fa-magnifying-glass"></i> Search</button>
      </form>

      <!-- Right actions -->
      <ul class="navbar-nav ms-auto align-items-center nav-actions">
        <li class="nav-item">
          <a class="nav-link btn-add" href="/listings/new">Add Hotel</a>
        </li>

        <% if (!currUser) { %>
          <li class="nav-item"><a class="nav-link" href="/signup"><b>Sign up</b></a></li>
          <li class="nav-item"><a class="nav-link" href="/login"><b>Log in</b></a></li>
        <% } else { %>
          <li class="nav-item">
            <a class="nav-link" href="/logout"><b>Log out</b></a>
          </li>
        <% } %>
      </ul>

      <!-- Mobile search (visible on small screens) -->
      <form class="search-form d-md-none mt-2 w-100" role="search" action="/listings" method="GET">
        <input class="form-control search-inp" type="search" name="search" placeholder="Search by location..."
               value="<%= typeof search !== 'undefined' ? search : '' %>">
      </form>
    </div>
  </div>
</nav>